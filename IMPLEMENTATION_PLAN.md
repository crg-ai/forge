# Forge Framework å®ç°è®¡åˆ’

## é¡¹ç›®æ„¿æ™¯

Forge è‡´åŠ›äºæˆä¸ºå‰ç«¯é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰çš„è½»é‡çº§å®è·µæ¡†æ¶ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨å¤æ‚å‰ç«¯åº”ç”¨ä¸­åº”ç”¨ DDD ç†å¿µï¼ŒåŒæ—¶ä¿æŒç®€æ´å’Œé«˜æ€§èƒ½ã€‚

## DDD åœ¨å‰ç«¯çš„é€‚ç”¨æ€§åˆ†æ

### âœ… é€‚åˆä½¿ç”¨ DDD çš„å‰ç«¯åœºæ™¯

#### 1. å¤æ‚ä¸šåŠ¡ç³»ç»Ÿ

- ä¼ä¸šçº§åº”ç”¨ï¼ˆERPã€CRMã€HISï¼‰
- é‡‘èäº¤æ˜“å¹³å°
- ç”µå•†ç®¡ç†åå°
- ä¾›åº”é“¾ç®¡ç†ç³»ç»Ÿ

#### 2. é¡¹ç›®ç‰¹å¾

- ä¸šåŠ¡è§„åˆ™å¤æ‚ä¸”ç»å¸¸å˜åŒ–
- å¤šä¸ªå­ç³»ç»Ÿéœ€è¦ååŒ
- å›¢é˜Ÿè§„æ¨¡ â‰¥ 5 äºº
- é¢„æœŸç»´æŠ¤å‘¨æœŸ > 2 å¹´
- éœ€è¦å¤šå›¢é˜Ÿåä½œå¼€å‘

#### 3. æŠ€æœ¯ä»·å€¼ç‚¹

- å‰åç«¯å…±äº«é¢†åŸŸæ¨¡å‹
- å¤æ‚çš„å®¢æˆ·ç«¯çŠ¶æ€ç®¡ç†
- ç¦»çº¿ä¼˜å…ˆçš„åº”ç”¨
- éœ€è¦äº‹ä»¶æº¯æºèƒ½åŠ›

### âŒ ä¸é€‚åˆä½¿ç”¨ DDD çš„åœºæ™¯

- è¥é”€å±•ç¤ºé¡µé¢
- ç®€å•çš„ CRUD åº”ç”¨
- å·¥å…·å‹å°åº”ç”¨
- MVP åŸå‹é¡¹ç›®
- 1-2 äººçš„å°å‹é¡¹ç›®

### ğŸ’¡ å‰ç«¯ DDD çš„ç‹¬ç‰¹ä¼˜åŠ¿

1. **ä¸šåŠ¡é€»è¾‘å†…èš** - å°†å¤æ‚çš„ä¸šåŠ¡è§„åˆ™å°è£…åœ¨é¢†åŸŸæ¨¡å‹ä¸­
2. **ç±»å‹å®‰å…¨çš„ä¸šåŠ¡å»ºæ¨¡** - TypeScript çš„ç±»å‹ç³»ç»Ÿä¸ DDD å®Œç¾å¥‘åˆ
3. **å‰åç«¯æ¨¡å‹ä¸€è‡´æ€§** - å‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œå…±äº«é¢†åŸŸè¯­è¨€

### ğŸš§ å‰ç«¯ç‰¹æœ‰çš„æŒ‘æˆ˜

1. **çŠ¶æ€ç®¡ç†å¤æ‚æ€§** - éœ€è¦å°†é¢†åŸŸæ¨¡å‹ä¸ React/Vue å“åº”å¼ç³»ç»Ÿç»“åˆ
2. **UI äº¤äº’å»ºæ¨¡** - è¡¨å•éªŒè¯ä¸é¢†åŸŸè§„åˆ™çš„æ˜ å°„
3. **æ€§èƒ½è€ƒè™‘** - å¯¹è±¡åˆ›å»ºå¼€é”€å’Œä¸å¯å˜æ€§è¦æ±‚

## å®ç°è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒæ„å»ºå— (2024 Q4)

**ç›®æ ‡ï¼šå®ç° DDD åŸºç¡€è®¾æ–½**

#### 1.1 Entity å®ä½“åŸºç±»

```typescript
// src/core/entity/entity.ts
export abstract class Entity<Props> {
  protected readonly _id: UniqueEntityID
  protected props: Props

  equals(object?: Entity<Props>): boolean
  toString(): string
}
```

**å®ç°è¦ç‚¹ï¼š**

- å”¯ä¸€æ ‡è¯†ç¬¦ç®¡ç†
- ç›¸ç­‰æ€§åˆ¤æ–­é€»è¾‘
- åŸºç¡€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
- å®Œæ•´çš„å•å…ƒæµ‹è¯•

#### 1.2 ValueObject å€¼å¯¹è±¡åŸºç±»

```typescript
// src/core/value-object/value-object.ts
export abstract class ValueObject<Props> {
  protected readonly props: Props

  equals(vo?: ValueObject<Props>): boolean
  toString(): string
}
```

**å®ç°è¦ç‚¹ï¼š**

- ä¸å¯å˜æ€§ä¿è¯
- åŸºäºå€¼çš„ç›¸ç­‰æ€§åˆ¤æ–­
- ç»“æ„åŒ–éªŒè¯æœºåˆ¶
- åºåˆ—åŒ–/ååºåˆ—åŒ–æ”¯æŒ

#### 1.3 AggregateRoot èšåˆæ ¹åŸºç±»

```typescript
// src/core/aggregate/aggregate-root.ts
export abstract class AggregateRoot<Props> extends Entity<Props> {
  private _domainEvents: DomainEvent[] = []

  addDomainEvent(event: DomainEvent): void
  clearEvents(): void
  getUncommittedEvents(): DomainEvent[]
}
```

**å®ç°è¦ç‚¹ï¼š**

- é¢†åŸŸäº‹ä»¶ç®¡ç†
- äº‹åŠ¡è¾¹ç•Œæ§åˆ¶
- ä¸€è‡´æ€§ä¿è¯
- ç‰ˆæœ¬æ§åˆ¶æœºåˆ¶

#### 1.4 Repository ä»“å‚¨æ¥å£

```typescript
// src/core/repository/repository.ts
export interface Repository<T extends AggregateRoot<any>> {
  save(entity: T): Promise<void>
  findById(id: UniqueEntityID): Promise<T | null>
  delete(id: UniqueEntityID): Promise<void>
}
```

**å®ç°è¦ç‚¹ï¼š**

- é€šç”¨ä»“å‚¨æ¥å£å®šä¹‰
- å†…å­˜å®ç°ï¼ˆç”¨äºæµ‹è¯•ï¼‰
- è§„çº¦æ¨¡å¼æ”¯æŒ
- åˆ†é¡µå’Œæ’åºæ”¯æŒ

### ç¬¬äºŒé˜¶æ®µï¼šé¢†åŸŸäº‹ä»¶ç³»ç»Ÿ (2025 Q1)

**ç›®æ ‡ï¼šå®ç°äº‹ä»¶é©±åŠ¨æ¶æ„**

#### 2.1 DomainEvent é¢†åŸŸäº‹ä»¶

```typescript
// src/core/domain-event/domain-event.ts
export abstract class DomainEvent {
  readonly aggregateId: UniqueEntityID
  readonly occurredOn: Date
  readonly eventVersion: number
}
```

#### 2.2 EventBus äº‹ä»¶æ€»çº¿

```typescript
// src/infrastructure/event-bus/event-bus.ts
export class EventBus {
  subscribe<T extends DomainEvent>(eventName: string, handler: (event: T) => void): void

  publish(event: DomainEvent): void
  unsubscribe(eventName: string, handler: Function): void
}
```

#### 2.3 äº‹ä»¶å­˜å‚¨

- äº‹ä»¶æŒä¹…åŒ–æ¥å£
- äº‹ä»¶é‡æ”¾æœºåˆ¶
- äº‹ä»¶ç‰ˆæœ¬ç®¡ç†
- å¿«ç…§æ”¯æŒ

### ç¬¬ä¸‰é˜¶æ®µï¼šç¤ºä¾‹é¡¹ç›® (2025 Q1)

**ç›®æ ‡ï¼šæä¾›å®é™…åº”ç”¨å‚è€ƒ**

#### 3.1 ç”µå•†ç¤ºä¾‹ (examples/e-commerce)

```
examples/e-commerce/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”‚   â”œâ”€â”€ user-id.value-object.ts
â”‚   â”‚   â””â”€â”€ user.repository.ts
â”‚   â”œâ”€â”€ product/
â”‚   â”‚   â”œâ”€â”€ product.entity.ts
â”‚   â”‚   â”œâ”€â”€ price.value-object.ts
â”‚   â”‚   â””â”€â”€ product.repository.ts
â”‚   â”œâ”€â”€ order/
â”‚   â”‚   â”œâ”€â”€ order.aggregate-root.ts
â”‚   â”‚   â”œâ”€â”€ order-item.entity.ts
â”‚   â”‚   â””â”€â”€ order.repository.ts
â”‚   â””â”€â”€ cart/
â”‚       â”œâ”€â”€ shopping-cart.aggregate-root.ts
â”‚       â””â”€â”€ cart-item.value-object.ts
â”œâ”€â”€ application/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ order.service.ts
â”‚   â”‚   â””â”€â”€ payment.service.ts
â”‚   â””â”€â”€ use-cases/
â”‚       â”œâ”€â”€ place-order.use-case.ts
â”‚       â””â”€â”€ add-to-cart.use-case.ts
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ repositories/
â”‚   â””â”€â”€ events/
â””â”€â”€ presentation/
    â”œâ”€â”€ components/
    â””â”€â”€ stores/
```

**æ ¸å¿ƒåŠŸèƒ½ï¼š**

- ç”¨æˆ·æ³¨å†Œå’Œè®¤è¯
- å•†å“æµè§ˆå’Œæœç´¢
- è´­ç‰©è½¦ç®¡ç†
- è®¢å•å¤„ç†æµç¨‹
- æ”¯ä»˜é›†æˆç¤ºä¾‹

#### 3.2 å¾…åŠäº‹é¡¹ç¤ºä¾‹ (examples/todo)

**ç®€å•åœºæ™¯å±•ç¤ºï¼š**

- Task å®ä½“è®¾è®¡
- TaskList èšåˆæ ¹
- çŠ¶æ€è½¬æ¢è§„åˆ™
- ç®€å•çš„ CQRS å®ç°

#### 3.3 åšå®¢ç¤ºä¾‹ (examples/blog)

**å†…å®¹ç®¡ç†åœºæ™¯ï¼š**

- Article èšåˆæ ¹
- Comment å®ä½“
- Tag å€¼å¯¹è±¡
- å‘å¸ƒæµç¨‹é¢†åŸŸæœåŠ¡

### ç¬¬å››é˜¶æ®µï¼šæ¡†æ¶é›†æˆ (2025 Q2)

**ç›®æ ‡ï¼šä¸ä¸»æµå‰ç«¯ç”Ÿæ€é›†æˆ**

#### 4.1 React Hooks é›†æˆ

```typescript
// src/integrations/react/hooks.ts
export function useEntity<T extends Entity>(entity: T): [T, (updater: (entity: T) => T) => void]

export function useRepository<T extends AggregateRoot>(
  repository: Repository<T>
): RepositoryHooks<T>

export function useDomainEvents(eventBus: EventBus): EventHooks
```

#### 4.2 çŠ¶æ€ç®¡ç†é›†æˆ

- **Zustand é€‚é…å™¨**ï¼šå°†èšåˆæ˜ å°„ä¸º store
- **MobX é€‚é…å™¨**ï¼šä½¿å®ä½“å“åº”å¼
- **Redux Toolkit é›†æˆ**ï¼šé¢†åŸŸäº‹ä»¶ä¸ actions æ˜ å°„

#### 4.3 è¡¨å•éªŒè¯é›†æˆ

- React Hook Form é›†æˆ
- å€¼å¯¹è±¡éªŒè¯æ˜ å°„
- é¢†åŸŸè§„åˆ™åˆ°è¡¨å•è§„åˆ™è½¬æ¢

### ç¬¬äº”é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§ (2025 Q3)

**ç›®æ ‡ï¼šæä¾›ä¼ä¸šçº§åŠŸèƒ½**

#### 5.1 CQRS å®ç°

- Command å’Œ Query åˆ†ç¦»
- è¯»æ¨¡å‹æŠ•å½±
- æœ€ç»ˆä¸€è‡´æ€§å¤„ç†

#### 5.2 äº‹ä»¶æº¯æº

- äº‹ä»¶å­˜å‚¨å®ç°
- èšåˆé‡å»ºæœºåˆ¶
- å¿«ç…§ä¼˜åŒ–

#### 5.3 Saga æ¨¡å¼

- é•¿æ—¶é—´è¿è¡Œçš„ä¸šåŠ¡æµç¨‹
- è¡¥å¿äº‹åŠ¡
- æµç¨‹ç¼–æ’

### ç¬¬å…­é˜¶æ®µï¼šå·¥å…·å’Œç”Ÿæ€ (2025 Q4)

**ç›®æ ‡ï¼šæå‡å¼€å‘ä½“éªŒ**

#### 6.1 CLI å·¥å…·

```bash
# è„šæ‰‹æ¶å‘½ä»¤
npx forge create entity User
npx forge create aggregate Order
npx forge create value-object Email
```

#### 6.2 VS Code æ’ä»¶

- ä»£ç ç‰‡æ®µ
- æ™ºèƒ½æç¤º
- é‡æ„å·¥å…·

#### 6.3 DevTools

- é¢†åŸŸäº‹ä»¶ç›‘æ§
- èšåˆçŠ¶æ€æŸ¥çœ‹å™¨
- æ€§èƒ½åˆ†æå·¥å…·

## æŠ€æœ¯å†³ç­–

### æ ¸å¿ƒåŸåˆ™

1. **é›¶è¿è¡Œæ—¶ä¾èµ–** - ä¿æŒæ¡†æ¶è½»é‡ï¼ˆ< 10KBï¼‰
2. **ç±»å‹å®‰å…¨** - å……åˆ†åˆ©ç”¨ TypeScript ç±»å‹ç³»ç»Ÿ
3. **æ¸è¿›å¼** - å¯ä»¥éƒ¨åˆ†é‡‡ç”¨ï¼Œä¸å¼ºåˆ¶å…¨é‡ä½¿ç”¨
4. **æ€§èƒ½ä¼˜å…ˆ** - é¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºå’Œæ·±æ‹·è´
5. **å¼€å‘ä½“éªŒ** - æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ”¯æŒ

### è®¾è®¡æ¨¡å¼é€‰æ‹©

- **å·¥å‚æ¨¡å¼**ï¼šç”¨äºå¤æ‚å®ä½“åˆ›å»º
- **è§„çº¦æ¨¡å¼**ï¼šç”¨äºå¤æ‚æŸ¥è¯¢æ¡ä»¶
- **ç­–ç•¥æ¨¡å¼**ï¼šç”¨äºä¸šåŠ¡è§„åˆ™å˜åŒ–
- **è§‚å¯Ÿè€…æ¨¡å¼**ï¼šç”¨äºé¢†åŸŸäº‹ä»¶å¤„ç†

### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

1. ä½¿ç”¨ç»“æ„åŒ–å…‹éš†ä»£æ›¿æ·±æ‹·è´
2. å®ç°å¯¹è±¡æ± ä»¥å‡å°‘ GC å‹åŠ›
3. å»¶è¿ŸåŠ è½½å¤§å‹èšåˆçš„å…³è”
4. ä½¿ç”¨ WeakMap ç¼“å­˜è®¡ç®—ç»“æœ

## æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡

- âœ… åŒ…ä½“ç§¯ < 10KB (gzipped)
- âœ… æµ‹è¯•è¦†ç›–ç‡ > 95%
- âœ… TypeScript ä¸¥æ ¼æ¨¡å¼æ— é”™è¯¯
- âœ… æ‰€æœ‰å…¬å…± API æœ‰å®Œæ•´æ–‡æ¡£

### ä¸šåŠ¡æŒ‡æ ‡

- ğŸ“Š GitHub Stars > 1000
- ğŸ“Š NPM å‘¨ä¸‹è½½é‡ > 5000
- ğŸ“Š æ´»è·ƒè´¡çŒ®è€… > 10
- ğŸ“Š ç”Ÿäº§ç¯å¢ƒæ¡ˆä¾‹ > 5

### ç¤¾åŒºæŒ‡æ ‡

- ğŸ’¬ Discord ç¤¾åŒºæˆå‘˜ > 500
- ğŸ’¬ æ¯æœˆæŠ€æœ¯åˆ†äº« â‰¥ 1 æ¬¡
- ğŸ’¬ ä¸­è‹±æ–‡æ–‡æ¡£å®Œæ•´
- ğŸ’¬ è§†é¢‘æ•™ç¨‹ç³»åˆ—

## é£é™©å’Œç¼“è§£æªæ–½

### æŠ€æœ¯é£é™©

| é£é™©       | å½±å“ | ç¼“è§£æªæ–½                    |
| ---------- | ---- | --------------------------- |
| æ€§èƒ½é—®é¢˜   | é«˜   | åŸºå‡†æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–æŒ‡å—      |
| ç±»å‹å¤æ‚åº¦ | ä¸­   | æä¾›ç±»å‹å·¥å…·å‡½æ•°            |
| æµè§ˆå™¨å…¼å®¹ | ä½   | æ˜ç¡®æ”¯æŒèŒƒå›´ï¼Œæä¾› polyfill |

### é‡‡ç”¨é£é™©

| é£é™©               | å½±å“ | ç¼“è§£æªæ–½                     |
| ------------------ | ---- | ---------------------------- |
| å­¦ä¹ æ›²çº¿é™¡å³­       | é«˜   | å®Œå–„æ–‡æ¡£ã€è§†é¢‘æ•™ç¨‹ã€ç¤ºä¾‹ä»£ç  |
| ä¸ç°æœ‰é¡¹ç›®é›†æˆå›°éš¾ | ä¸­   | æ¸è¿›å¼è¿ç§»æŒ‡å—ã€é€‚é…å™¨æ¨¡å¼   |
| ç¤¾åŒºæ¥å—åº¦ä½       | ä¸­   | æŠ€æœ¯åˆ†äº«ã€æˆåŠŸæ¡ˆä¾‹æ¨å¹¿       |

## é‡Œç¨‹ç¢‘æ—¶é—´è¡¨

### 2024 Q4

- [x] é¡¹ç›®åˆå§‹åŒ–å’Œå·¥å…·é“¾é…ç½®
- [ ] Entity å’Œ ValueObject å®ç°
- [ ] åŸºç¡€æµ‹è¯•ç”¨ä¾‹

### 2025 Q1

- [ ] AggregateRoot å’Œ Repository å®ç°
- [ ] é¢†åŸŸäº‹ä»¶ç³»ç»Ÿ
- [ ] ç¬¬ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ï¼ˆTodoï¼‰

### 2025 Q2

- [ ] ä¸‰ä¸ªç¤ºä¾‹é¡¹ç›®å®Œæˆ
- [ ] React é›†æˆ
- [ ] çŠ¶æ€ç®¡ç†é›†æˆ
- [ ] Beta ç‰ˆæœ¬å‘å¸ƒ

### 2025 Q3

- [ ] CQRS å®ç°
- [ ] äº‹ä»¶æº¯æºæ”¯æŒ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] RC ç‰ˆæœ¬å‘å¸ƒ

### 2025 Q4

- [ ] CLI å·¥å…·
- [ ] VS Code æ’ä»¶
- [ ] å®Œæ•´æ–‡æ¡£
- [ ] 1.0 æ­£å¼ç‰ˆå‘å¸ƒ

## å›¢é˜Ÿå’Œèµ„æº

### æ ¸å¿ƒå›¢é˜Ÿéœ€æ±‚

- **æ¶æ„å¸ˆ** (1): DDD ç»éªŒï¼Œå‰ç«¯æ¶æ„è®¾è®¡
- **æ ¸å¿ƒå¼€å‘** (2): TypeScript ä¸“å®¶ï¼Œæ¡†æ¶å¼€å‘ç»éªŒ
- **æ–‡æ¡£å·¥ç¨‹å¸ˆ** (1): æŠ€æœ¯å†™ä½œï¼Œç¤ºä¾‹å¼€å‘
- **ç¤¾åŒºè¿è¥** (1): å¼€æºç¤¾åŒºç®¡ç†

### å¤–éƒ¨èµ„æº

- DDD é¢†åŸŸä¸“å®¶é¡¾é—®
- æ€§èƒ½ä¼˜åŒ–ä¸“å®¶
- å®‰å…¨å®¡è®¡å›¢é˜Ÿ

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³è¡ŒåŠ¨ (æœ¬å‘¨)

1. âœ… å®Œæˆå®ç°è®¡åˆ’è¯„å®¡
2. å¼€å§‹ Entity åŸºç±»å¼€å‘
3. è®¾ç½® CI/CD æµç¨‹
4. åˆ›å»ºé¡¹ç›®çœ‹æ¿

### çŸ­æœŸç›®æ ‡ (æœ¬æœˆ)

1. å®Œæˆæ ¸å¿ƒæ„å»ºå— MVP
2. ç¼–å†™ç¬¬ä¸€æ‰¹å•å…ƒæµ‹è¯•
3. å‘å¸ƒæŠ€æœ¯é¢„è§ˆç‰ˆ
4. æ”¶é›†æ—©æœŸåé¦ˆ

### ä¸­æœŸç›®æ ‡ (æœ¬å­£åº¦)

1. å®Œæˆç¬¬ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®
2. å‘å¸ƒ Alpha ç‰ˆæœ¬
3. å»ºç«‹ç¤¾åŒºæ¸ é“
4. å¼€å§‹æŠ€æœ¯åˆ†äº«

## è”ç³»æ–¹å¼

- **GitHub**: <https://github.com/crg-ai/forge>
- **Issues**: <https://github.com/crg-ai/forge/issues>
- **Discussions**: <https://github.com/crg-ai/forge/discussions>
- **Email**: <forge@example.com>

---

_æœ¬è®¡åˆ’ä¸ºåŠ¨æ€æ–‡æ¡£ï¼Œå°†æ ¹æ®é¡¹ç›®è¿›å±•å’Œç¤¾åŒºåé¦ˆæŒç»­æ›´æ–°ã€‚_

_æœ€åæ›´æ–°ï¼š2024-09-30_
